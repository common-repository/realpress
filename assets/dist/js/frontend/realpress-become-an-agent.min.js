(()=>{"use strict";document.addEventListener("DOMContentLoaded",(e=>{(()=>{const e=document.querySelector("#realpress-become-an-agent");if(!e)return;const a=e.querySelector(".realpress-become-an-agent-container"),n=a.querySelector("form");if(!n)return;const r=REALPRESS_GLOBAL_OBJECT.rest_namespace||"";n.querySelector("button").addEventListener("click",(function(e){e.preventDefault();const t=n.querySelector('[name="realpress-baa-firstname"]').value||"",s=n.querySelector('[name="realpress-baa-lastname"]').value||"",o=n.querySelector('[name="realpress-baa-agencyname"]').value||"",c=n.querySelector('[name="realpress-baa-phonenumber"]').value||"",l=n.querySelector('[name="realpress-baa-additional-information"]').value||"",m=n.querySelector('[name="realpress-baa-terms-and-conditions"]').checked,i=n.querySelector(".realpress-baa-warning"),u={first_name:t,last_name:s,agency_name:o,phone_number:c,additional_info:l,terms_and_conditions:m};wp.apiFetch({path:"/"+r+"/become-an-agent",method:"POST",data:u}).then((e=>{e.msg&&(a.innerHTML=e.msg)})).catch((e=>{e.msg&&(i.classList.add("failed"),i.innerHTML=e.msg)}))}))})()}))})();