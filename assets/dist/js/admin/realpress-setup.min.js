(()=>{"use strict";const e=window.wp.url,t=(e,t,s)=>{const a=REALPRESS_GLOBAL_OBJECT.rest_namespace||"";if(e)return t.setValue([e]),new Promise((e=>e("success")));{let e={title:s,post_type:"page",post_status:"publish"};return wp.apiFetch({path:"/"+a+"/page",method:"POST",data:e})}},s=(e,t)=>{e.status&&"success"===e.status&&e.data&&(t.tomselect.addOption({value:e.data.id,text:e.data.title}),t.tomselect.setValue([e.data.id]))};document.addEventListener("DOMContentLoaded",(a=>{(()=>{const t=document.querySelector(".realpress-import-demo-content");if(!t)return;const s=t.querySelector("button"),a=t.querySelector(".realpress-import-demo-notification"),{__}=wp.i18n;s.addEventListener("click",(function(){s.disabled=!0,a.innerHTML=__("System is runningâ€¦"," realpress");const t=REALPRESS_GLOBAL_OBJECT.rest_namespace||"";wp.apiFetch({path:(0,e.addQueryArgs)("/"+t+"/import-demo"),method:"POST"}).then((e=>{e.msg&&(a.innerHTML=`<p>${e.msg}</p>`)})).catch((e=>{console.log(e)})).finally((()=>{s.disabled=!1}))}))})(),(()=>{const e=document.querySelector(".realpress-page-setting");if(!e)return;const a=e.querySelector("button#realpress-create-all-pages");if(!a)return;const{__}=wp.i18n,r=REALPRESS_GLOBAL_OBJECT.agent_list_page_id||"",n=REALPRESS_GLOBAL_OBJECT.terms_and_conditions_page_id||"",i=REALPRESS_GLOBAL_OBJECT.become_an_agent_page_id||"",o=REALPRESS_GLOBAL_OBJECT.wishlist_page_id||"",l=e.querySelector("#realpress_agent_list_page"),c=e.querySelector("#realpress_terms_and_conditions_page"),p=e.querySelector("#realpress_become_an_agent_page"),d=e.querySelector("#realpress_wishlist_page");a.addEventListener("click",(async function(e){if(e.preventDefault(),a.disabled=!0,a.insertAdjacentHTML("afterbegin",' <i class="fa fa-spinner fa-spin"></i> '),l){let e=await t(r,l.tomselect,__("Agent List","realpress"));s(e,l)}if(c){let e=await t(n,c.tomselect,__("Terms and Conditions","realpress"));s(e,c)}if(p){let e=await t(i,p.tomselect,__("Become an Agent","realpress"));s(e,p)}if(d){let e=await t(o,d.tomselect,__("WishList","realpress"));s(e,d)}a.querySelector("i.fa-spinner").remove(),a.disabled=!1}))})()}))})();